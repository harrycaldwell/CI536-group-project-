document.addEventListener("DOMContentLoaded", function () {
    // Add event listener to the form on DOMContentLoaded
    document.getElementById("quizForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent form submission from refreshing the page

        // Define correct answers
        const correctAnswers = {
            q1: "b",
            q2: "b",
            q3: "b",
            q4: "b",
            q5: "c",
            q6: "b",
            q7: "a",
            q8: "c",
            q9: "a",
            q10: "c"
        };

        // Initialize score
        let score = 0;

        // Loop through each question
        for (let i = 1; i <= Object.keys(correctAnswers).length; i++) {
            const questionName = "q" + i;
            const selectedAnswer = document.querySelector("input[name='" + questionName + "']:checked");

            // Check if answer is selected for each question
            if (selectedAnswer) {
                // Check if selected answer is correct
                if (selectedAnswer.value === correctAnswers[questionName]) {
                    score++;
                }
            }
        }

        // Display result
        const resultContainer = document.getElementById("result");
        resultContainer.innerHTML = "Your score: " + score + " out of " + Object.keys(correctAnswers).length;

        if (score == 10) {
            //DO SOMETHING TO DATABASE

            // Make AJAX request to update the database
            const xhr = new XMLHttpRequest();
            xhr.open("POST", "updateDatabase.php", true);
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    // Handle response from the server if needed
                    console.log(xhr.responseText);
                }
            };
            xhr.send(); // You can send data here if needed
        }


    });
});
